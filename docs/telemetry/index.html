<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Telemetry · Large Quadcopter Build</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;TODO: Telemetry&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Telemetry · Large Quadcopter Build"/><meta property="og:type" content="website"/><meta property="og:url" content="https://george-hawkins.github.io/arf-drone/index.html"/><meta property="og:description" content="&lt;p&gt;TODO: Telemetry&lt;/p&gt;
"/><meta property="og:image" content="https://george-hawkins.github.io/arf-drone/img/og-image.png"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/arf-drone/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/arf-drone/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/arf-drone/"><img class="logo" src="/arf-drone/img/header-icon.svg" alt="Large Quadcopter Build"/><h2 class="headerTitleWithLogo">Large Quadcopter Build</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Followup projects</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Build</h3><ul><li class="navListItem"><a class="navItem" href="/arf-drone/docs/INTRO">Introduction</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/parts">Parts</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/purchase-order">Purchase Order</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/battery-charging">Battery Charging</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/transmitter-getting-started">Transmitter Getting Started</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/stick-setup">Stick Setup</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/transmitter-model-setup">Transmitter Model Setup</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/transmitter-flight-modes">Transmitter Flight Modes</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/receiver">Receiver</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/electronics-assembly">Electronics Assembly</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/binding">Binding</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pixhawk-setup">Pixhawk Setup</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/frame-parts">Frame Parts</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pdb-soldering">Pdb Soldering</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/frame-assembly">Frame Assembly</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/final-assembly">Final Assembly</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/build-2/build-2">Build 2</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/final-setup">Final Setup</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Appendices</h3><ul><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pixhawk-leds">Pixhawk Leds</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pixhawk-tones">Pixhawk Tones</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pixhawk-driver">Pixhawk Driver</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/transmitter-extras">Transmitter Extras</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/soldering">Soldering</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/stores">Stores</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/windows-vm">Windows Vm</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/opentx-companion-on-ubuntu">Opentx Companion On Ubuntu</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/qgroundcontrol">Qgroundcontrol</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">FPV quad</h3><ul><li class="navListItem"><a class="navItem" href="/arf-drone/docs/eachine-qx95">Eachine Qx95</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/inprogress-qx95">Inprogress Qx95</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/cleanflight-settings/cleanflight-settings-README">Cleanflight Settings README</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/fpv-x-racer">Fpv X Racer</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Followup projects</h3><ul><li class="navListItem"><a class="navItem" href="/arf-drone/docs/video">Video</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/arf-drone/docs/telemetry">Telemetry</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Miscellaneous</h3><ul><li class="navListItem"><a class="navItem" href="/arf-drone/docs/antenna-mount/antenna-mount-README">Antenna Mount README</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/antenna-mount/version-1/antenna-mount-v1-README">Antenna Mount Version 1 README</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/antenna-mount/version-2/antenna-mount-v2-README">Antenna Mount Version 2 README</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/f450-dimensions">F450 Dimensions</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/gps-mast-placement">Gps Mast Placement</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/notes">Notes</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/notes-to-self">Notes To Self</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/pages-and-videos">Pages And Videos</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/power-module-xt60-to-deans">Power Module Xt60 To Deans</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/receiver-power">Receiver Power</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/receiver-windows-upgrade">Receiver Windows Upgrade</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/rx8r">Rx8r</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/unused-parts">Unused Parts</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/vibration-damping-platform">Vibration Damping Platform</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/voice">Voice</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/sounds">Sounds</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/case">Case</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/foam-outline/foam-outline-README">Foam Outline README</a></li><li class="navListItem"><a class="navItem" href="/arf-drone/docs/20181021-rebuild-params/20181021-rebuild-params-README">20181021 Rebuild Params README</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/george-hawkins/arf-drone/edit/docusaurus/docs/telemetry.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Telemetry</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="todo-telemetry"></a><a href="#todo-telemetry" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TODO: Telemetry</h1>
<p>Wiring up telemetry for X8R and Pixhawk - <a href="http://ardupilot.org/copter/docs/common-frsky-telemetry.html">http://ardupilot.org/copter/docs/common-frsky-telemetry.html</a> (includes setup in Mission Planner).</p>
<p>Make sure you enable the passthru telemetry option in Mission Planner cf the amount of telemetry info the Pixhawk will pass on if passthru is used vs if it's not.</p>
<p>As you can see in the table with passthru values there's only so much information - you can fairly easily see the kind of values you'd want on your primary telemetry screen. And the rest can be fitted on 2nd, 3rd and 4th screens (or ignored altogether). Having the last known GPS location can be good if your drone goes missing!</p>
<p>Note: in addition to <em>RSSI</em>, there's <em>RSSI-</em> and <em>RSSI+</em>, the same goes for various other telemetry values. The - and + variants just show the lowest and highest values seen for the given telemetry value (presumably these values are transient and survive for the lifetime of the current session).</p>
<p>The common-frsky-telemetry.html is the usual confusion of lots of different things - I suspect the OpenTX Companion stuff is irrelevant and that much of the Mission Planner related stuff, like battery capacity might be better handled in the transmitter.</p>
<p>I did sensor discovery without any telemetry from the Pixhawk - all you get when the receiver is the only source is RSSI and RxBT. RxBT is just the &quot;battery&quot; seen by the RX - if you had telemetry from the Pixhawk you'd see the more interesting VFAS (but possibly only if you're running off a real battery rather than USB - it's unclear from what I've read).</p>
<p>Configuring alarms based on RSSI, Cell (the lowest cell is the important thing I guess the Pixhawk can't see this, so the battery meter is a good idea but the FrSKY device shown in this video is probably better still) and altitude - <a href="https://www.youtube.com/watch?v=rLMpBZZSMno">https://www.youtube.com/watch?v=rLMpBZZSMno</a> (includes warning sound and reading value out loud).</p>
<p>Painless360 also nicely covers this in his video <a href="https://www.youtube.com/watch?v=Lq3JwnuCrys">https://www.youtube.com/watch?v=Lq3JwnuCrys</a> and shows how to record telemetry data and look at it later in OpenTX Companion - Strava for your drone :)</p>
<p>In addition to the telemetry cable Craft and Theory also do a nice telemetry visualization app for the X9D+ and Q X7. You can get a nice idea of what values you might like to see, even just as numbers/bars from their <a href="http://www.craftandtheoryllc.com/flightdeck-taranis-opentx-ardupilot-arducopter-pixhawk-2-cube-servo-frsky-x9d-x7-q-x7-qx7-telemetry-smartport-smart-port-serial/">app overview</a>. Note they do a full bundle with Q X7, X8R, telemetry cable, FlightDeckQ and a cell sensor - see <a href="http://www.craftandtheoryllc.com/product/package-flightdeck-taranis-opentx-ardupilot-arducopter-pixhawk-2-cube-servo-frsky-x9d-x7-q-x7-qx7-telemetry-smartport-smart-port-serial/#configuration">telemetry package</a>. So the cell sensor clearly seems to be <em>the</em> telemetry addon to have.</p>
<p>In OpenTX 2.1 clearly you could set additional top bar values, in addition to the TX battery voltage, but this doesn't seem to be there or has moved in 2.2. See <a href="http://www.multi-rotor.co.uk/index.php?topic=15143.0">http://www.multi-rotor.co.uk/index.php?topic=15143.0</a></p>
<p>Blue Falcon - wiring telemetry <a href="https://youtu.be/WKsFG29Q5mQ">https://youtu.be/WKsFG29Q5mQ</a> - not for Pixhawk but still interesting, zip forward to 8:08 once he gets away from the receiver and into the flight controller (and then its software).</p>
<h2><a class="anchor" aria-hidden="true" id="rssi-and-mavlink"></a><a href="#rssi-and-mavlink" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RSSI and MAVLink</h2>
<p>Most of the telemetry information comes from the Pixhawk so it's feed back to the RX, which adds on RSSI and RxBT - though I've yet to see if this is the case, does it interleave it with the passthru data?</p>
<p>So the transmitter can see all the Pixhawk telemetry data and all the RX telemetry data.</p>
<p>But the Pixhawk can't see the RX telemetry data so my impression is that if you're using MAVLink you won't see this data - with RSSI being particularly obvious by its absense. Though note that you're now interested in two RSSI values that between TX and RX and between the two ends of the ends on the MAVLink connection - so I guess you can tell the drone to come home even if the TX/RX RSSI has gone too low as long as the MAVLink RSSI hasn't (assuming you can issue inflight commands via MAVLink - which is what I currently assume).</p>
<p>Anyway to get the RSSI data from the RX to the Pixhawk you have to connect the RSSI out port of the X8R to the Pixhawk as shown here <a href="https://pixhawk.org/users/rc_rssi">https://pixhawk.org/users/rc_rssi</a> - but then the setup in Mission Planner and QGroundControl/PX4 is a little less than clear.</p>
<p>The ArduCopter it <em>seems</em> simple enough, according to <a href="http://hypomaniac.co.uk/passing-rssi-x8r-pixhawk/">this page</a> you just have to set <em>RSSI_PIN</em> and <em>RSSI_RANGE</em> (this missing picture link is <a href="http://ardupilot.org/copter/_images/pixhawk2.jpg">http://ardupilot.org/copter/_images/pixhawk2.jpg</a>). So what's this 103 pin that's mentioned - see <a href="http://ardupilot.org/copter/docs/common-pixhawk-overview.html#pixhawk-analog-input-pins">Pixhawk analog input pins section</a>.</p>
<p>However this <a href="http://ardupilot.org/copter/docs/common-rssi-received-signal-strength-indication.html">page on ArduPilot.org</a> mentions <em>RSSI_ANA_PIN</em> - I suspect though this is well stale information or that at the very least that <em>RSSI_TYPE</em> and <em>RSSI_CHANNEL</em> are only relevant for the EZ-UHF / OpenLRS and that for the X8R the page above is more relevant and all that's important is if the correct setting is <em>RSSI_ANA_PIN</em> or <em>RSSI_PIN</em> - neither page disagrees about <em>RSSI_RANGE</em>.</p>
<p>So ArduCopter looks resolvable in terms of getting RSSI to the Pixhawk and on from there. But for PX4? The already mentioed above <a href="https://pixhawk.org/users/rc_rssi">https://pixhawk.org/users/rc_rssi</a> may have the answer in there somewhere.</p>
<h2><a class="anchor" aria-hidden="true" id="rssi-and-rx8r"></a><a href="#rssi-and-rx8r" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RSSI and RX8R</h2>
<p>An important difference between the X8R and the RX8R is that the second port, beside the SBUS OUT, is no longer an RSSI output port but has been repurposed as an S.BUS input port for connecting a second failover RX.</p>
<p>It's unclear if RSSI is on the PCB but not broken out (what does &quot;on board&quot; <a href="https://www.rcgroups.com/forums/showthread.php?2792329-FrSky-New-Arrival-%C2%96-RX8R">here</a> mean).</p>
<p>I couldn't find much on the RX8R and RSSI beyond this RCGroups <a href="https://www.rcgroups.com/forums/showthread.php?2792329-FrSky-New-Arrival-%C2%96-RX8R/page6">thread</a> where the RX8R is clearly being opened up to get at the RSSI signal and this <a href="https://marketchangers.wordpress.com/%D0%BE%D0%B1%D0%B7%D0%BE%D1%80%D1%8B/frsky-rx8r-redundancy-bus-receiver/">review</a> that clearly states that the RSSI output has been replaced by S.BUS in (this review also provides a clear explanation of using the redundancy features).</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2018-11-25</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/arf-drone/docs/video"><span class="arrow-prev">← </span><span>Video</span></a><a class="docs-next button" href="/arf-drone/docs/antenna-mount/antenna-mount-README"><span>Antenna Mount README</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#rssi-and-mavlink">RSSI and MAVLink</a></li><li><a href="#rssi-and-rx8r">RSSI and RX8R</a></li></ul></nav></div></div></body></html>